# Example configuration for hosting multiple domains on the same Apache server
# This shows how to add additional virtual hosts alongside fund.defintek.io

# Main Fund Platform
<VirtualHost *:80>
    ServerName fund.defintek.io
    ServerAlias www.fund.defintek.io
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName fund.defintek.io
    ServerAlias www.fund.defintek.io
    DocumentRoot /var/www/fund.defintek.io/public
    
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/fund.defintek.io.crt
    SSLCertificateKeyFile /etc/ssl/private/fund.defintek.io.key
    SSLCertificateChainFile /etc/ssl/certs/fund.defintek.io.chain.crt
    
    ProxyPreserveHost On
    ProxyRequests Off
    ProxyPass / http://127.0.0.1:3304/
    ProxyPassReverse / http://127.0.0.1:3304/
    
    ErrorLog ${APACHE_LOG_DIR}/fund.defintek.io_error.log
    CustomLog ${APACHE_LOG_DIR}/fund.defintek.io_access.log combined
</VirtualHost>

# Example: Additional domain for API or admin panel
<VirtualHost *:80>
    ServerName api.defintek.io
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName api.defintek.io
    DocumentRoot /var/www/api.defintek.io/public
    
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/api.defintek.io.crt
    SSLCertificateKeyFile /etc/ssl/private/api.defintek.io.key
    SSLCertificateChainFile /etc/ssl/certs/api.defintek.io.chain.crt
    
    ProxyPreserveHost On
    ProxyRequests Off
    ProxyPass / http://127.0.0.1:3305/
    ProxyPassReverse / http://127.0.0.1:3305/
    
    ErrorLog ${APACHE_LOG_DIR}/api.defintek.io_error.log
    CustomLog ${APACHE_LOG_DIR}/api.defintek.io_access.log combined
</VirtualHost>

# Example: Static website or landing page
<VirtualHost *:80>
    ServerName defintek.io
    ServerAlias www.defintek.io
    RewriteEngine On
    RewriteCond %{HTTPS} off
    RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</VirtualHost>

<VirtualHost *:443>
    ServerName defintek.io
    ServerAlias www.defintek.io
    DocumentRoot /var/www/defintek.io/public
    
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/defintek.io.crt
    SSLCertificateKeyFile /etc/ssl/private/defintek.io.key
    SSLCertificateChainFile /etc/ssl/certs/defintek.io.chain.crt
    
    # Serve static files directly
    <Directory "/var/www/defintek.io/public">
        Options -Indexes
        AllowOverride None
        Require all granted
        ExpiresActive On
        ExpiresDefault "access plus 1 month"
    </Directory>
    
    ErrorLog ${APACHE_LOG_DIR}/defintek.io_error.log
    CustomLog ${APACHE_LOG_DIR}/defintek.io_access.log combined
</VirtualHost>

